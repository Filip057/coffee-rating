openapi: 3.0.3
info:
  title: Coffee Rating API
  version: 0.5.0
  description: API for tracking coffee bean purchases, reviews, and group consumption.
paths:
  /api/analytics/beans/top/:
    get:
      operationId: analytics_beans_top_retrieve
      description: Get top-ranked coffee beans by various metrics (rating, kg purchased,
        money spent, review count).
      parameters:
      - in: query
        name: limit
        schema:
          type: integer
          default: 10
        description: Number of results
      - in: query
        name: metric
        schema:
          type: string
          default: rating
        description: 'Ranking metric: ''rating'', ''kg'', ''money'', ''reviews'''
      - in: query
        name: period
        schema:
          type: integer
          default: 30
        description: Number of days to consider
      tags:
      - analytics
      security:
      - jwtAuth: []
      - cookieAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TopBeansResponse'
          description: ''
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: ''
  /api/analytics/dashboard/:
    get:
      operationId: analytics_dashboard_retrieve
      description: Get dashboard summary for the current user including consumption,
        taste profile, and top beans.
      tags:
      - analytics
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DashboardResponse'
          description: ''
  /api/analytics/group/{group_id}/consumption/:
    get:
      operationId: analytics_group_consumption_retrieve
      description: Get group's coffee consumption statistics with member breakdown.
      parameters:
      - in: query
        name: end_date
        schema:
          type: string
          format: date
        description: End date (YYYY-MM-DD)
      - in: path
        name: group_id
        schema:
          type: string
          format: uuid
        required: true
      - in: query
        name: start_date
        schema:
          type: string
          format: date
        description: Start date (YYYY-MM-DD)
      tags:
      - analytics
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GroupConsumption'
          description: ''
        '403':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: ''
  /api/analytics/timeseries/:
    get:
      operationId: analytics_timeseries_retrieve
      description: Get consumption data over time for charts. Can be filtered by user
        or group.
      parameters:
      - in: query
        name: granularity
        schema:
          type: string
          default: month
        description: 'Time granularity: ''day'', ''week'', ''month'''
      - in: query
        name: group_id
        schema:
          type: string
          format: uuid
        description: Group ID for group consumption
      - in: query
        name: user_id
        schema:
          type: string
          format: uuid
        description: User ID (defaults to current user)
      tags:
      - analytics
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TimeseriesResponse'
          description: ''
        '403':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: ''
  /api/analytics/user/{user_id}/consumption/:
    get:
      operationId: analytics_user_consumption_retrieve_2
      description: Get user's coffee consumption statistics for a given period.
      parameters:
      - in: query
        name: end_date
        schema:
          type: string
          format: date
        description: End date (YYYY-MM-DD)
      - in: query
        name: period
        schema:
          type: string
        description: Month period (YYYY-MM)
      - in: query
        name: start_date
        schema:
          type: string
          format: date
        description: Start date (YYYY-MM-DD)
      - in: path
        name: user_id
        schema:
          type: string
          format: uuid
        required: true
      tags:
      - analytics
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserConsumption'
          description: ''
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: ''
  /api/analytics/user/{user_id}/taste-profile/:
    get:
      operationId: analytics_user_taste_profile_retrieve_2
      description: Get user's taste profile based on their coffee reviews (favorite
        origins, roast profiles, tags).
      parameters:
      - in: path
        name: user_id
        schema:
          type: string
          format: uuid
        required: true
      tags:
      - analytics
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TasteProfile'
          description: ''
  /api/analytics/user/consumption/:
    get:
      operationId: analytics_user_consumption_retrieve
      description: Get user's coffee consumption statistics for a given period.
      parameters:
      - in: query
        name: end_date
        schema:
          type: string
          format: date
        description: End date (YYYY-MM-DD)
      - in: query
        name: period
        schema:
          type: string
        description: Month period (YYYY-MM)
      - in: query
        name: start_date
        schema:
          type: string
          format: date
        description: Start date (YYYY-MM-DD)
      tags:
      - analytics
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserConsumption'
          description: ''
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: ''
  /api/analytics/user/taste-profile/:
    get:
      operationId: analytics_user_taste_profile_retrieve
      description: Get user's taste profile based on their coffee reviews (favorite
        origins, roast profiles, tags).
      tags:
      - analytics
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TasteProfile'
          description: ''
  /api/auth/login/:
    post:
      operationId: auth_login_create
      description: Authenticate with email and password to receive JWT tokens.
      tags:
      - auth
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserLoginRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/UserLoginRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/UserLoginRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AuthResponse'
          description: ''
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: ''
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: ''
        '403':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: ''
  /api/auth/logout/:
    post:
      operationId: auth_logout_create
      description: Logout and optionally blacklist the refresh token.
      tags:
      - auth
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LogoutRequestRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/LogoutRequestRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/LogoutRequestRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MessageResponse'
          description: ''
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: ''
  /api/auth/password-reset/:
    post:
      operationId: auth_password_reset_create
      description: Request a password reset email. Always returns success for security.
      tags:
      - auth
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PasswordResetRequestRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PasswordResetRequestRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PasswordResetRequestRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MessageResponse'
          description: ''
  /api/auth/password-reset/confirm/:
    post:
      operationId: auth_password_reset_confirm_create
      description: Confirm password reset with token and set new password.
      tags:
      - auth
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PasswordResetConfirmRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PasswordResetConfirmRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PasswordResetConfirmRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MessageResponse'
          description: ''
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: ''
  /api/auth/register/:
    post:
      operationId: auth_register_create
      description: Register a new user account and receive JWT tokens.
      tags:
      - auth
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserRegistrationRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/UserRegistrationRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/UserRegistrationRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      - {}
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AuthResponse'
          description: ''
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: ''
  /api/auth/token/refresh/:
    post:
      operationId: auth_token_refresh_create
      description: |-
        Takes a refresh type JSON web token and returns an access type JSON web
        token if the refresh token is valid.
      tags:
      - auth
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TokenRefreshRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/TokenRefreshRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/TokenRefreshRequest'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TokenRefresh'
          description: ''
  /api/auth/user/:
    get:
      operationId: auth_user_retrieve
      description: Get the current authenticated user's profile.
      tags:
      - auth
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
          description: ''
  /api/auth/user/delete/:
    delete:
      operationId: auth_user_delete_destroy
      description: GDPR-compliant account deletion. Anonymizes user data.
      tags:
      - auth
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '204':
          description: No response body
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: ''
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: ''
  /api/auth/user/update/:
    patch:
      operationId: auth_user_update_partial_update
      description: Update the current user's profile (display_name, preferences).
      tags:
      - auth
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedUserRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedUserRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedUserRequest'
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
          description: ''
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: ''
  /api/auth/users/{id}/:
    get:
      operationId: auth_users_retrieve
      description: |-
        Get user profile by ID.

        GET /api/auth/users/{id}/
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        required: true
      tags:
      - auth
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
          description: ''
  /api/auth/verify-email/:
    post:
      operationId: auth_verify_email_create
      description: Verify user's email address with verification token.
      tags:
      - auth
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/VerifyEmailRequestRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/VerifyEmailRequestRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/VerifyEmailRequestRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MessageResponse'
          description: ''
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: ''
  /api/beans/:
    get:
      operationId: beans_list
      description: |-
        ViewSet for CoffeeBean CRUD operations.

        list: Get all coffee beans (with filters)
        create: Create a new coffee bean
        retrieve: Get a specific coffee bean
        update: Update a coffee bean
        partial_update: Partially update a coffee bean
        destroy: Delete/deactivate a coffee bean
      parameters:
      - name: page
        required: false
        in: query
        description: A page number within the paginated result set.
        schema:
          type: integer
      - name: page_size
        required: false
        in: query
        description: Number of results to return per page.
        schema:
          type: integer
      tags:
      - beans
      security:
      - jwtAuth: []
      - cookieAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedCoffeeBeanListList'
          description: ''
    post:
      operationId: beans_create
      description: |-
        ViewSet for CoffeeBean CRUD operations.

        list: Get all coffee beans (with filters)
        create: Create a new coffee bean
        retrieve: Get a specific coffee bean
        update: Update a coffee bean
        partial_update: Partially update a coffee bean
        destroy: Delete/deactivate a coffee bean
      tags:
      - beans
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CoffeeBeanCreateRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/CoffeeBeanCreateRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/CoffeeBeanCreateRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CoffeeBeanCreate'
          description: ''
  /api/beans/{id}/:
    get:
      operationId: beans_retrieve
      description: |-
        ViewSet for CoffeeBean CRUD operations.

        list: Get all coffee beans (with filters)
        create: Create a new coffee bean
        retrieve: Get a specific coffee bean
        update: Update a coffee bean
        partial_update: Partially update a coffee bean
        destroy: Delete/deactivate a coffee bean
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this coffee bean.
        required: true
      tags:
      - beans
      security:
      - jwtAuth: []
      - cookieAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CoffeeBean'
          description: ''
    put:
      operationId: beans_update
      description: |-
        ViewSet for CoffeeBean CRUD operations.

        list: Get all coffee beans (with filters)
        create: Create a new coffee bean
        retrieve: Get a specific coffee bean
        update: Update a coffee bean
        partial_update: Partially update a coffee bean
        destroy: Delete/deactivate a coffee bean
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this coffee bean.
        required: true
      tags:
      - beans
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CoffeeBeanRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/CoffeeBeanRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/CoffeeBeanRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CoffeeBean'
          description: ''
    patch:
      operationId: beans_partial_update
      description: |-
        ViewSet for CoffeeBean CRUD operations.

        list: Get all coffee beans (with filters)
        create: Create a new coffee bean
        retrieve: Get a specific coffee bean
        update: Update a coffee bean
        partial_update: Partially update a coffee bean
        destroy: Delete/deactivate a coffee bean
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this coffee bean.
        required: true
      tags:
      - beans
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedCoffeeBeanRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedCoffeeBeanRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedCoffeeBeanRequest'
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CoffeeBean'
          description: ''
    delete:
      operationId: beans_destroy
      description: |-
        ViewSet for CoffeeBean CRUD operations.

        list: Get all coffee beans (with filters)
        create: Create a new coffee bean
        retrieve: Get a specific coffee bean
        update: Update a coffee bean
        partial_update: Partially update a coffee bean
        destroy: Delete/deactivate a coffee bean
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this coffee bean.
        required: true
      tags:
      - beans
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '204':
          description: No response body
  /api/beans/origins/:
    get:
      operationId: beans_origins_retrieve
      description: Get list of all origin countries.
      tags:
      - beans
      security:
      - jwtAuth: []
      - cookieAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CoffeeBean'
          description: ''
  /api/beans/roasteries/:
    get:
      operationId: beans_roasteries_retrieve
      description: Get list of all roasteries.
      tags:
      - beans
      security:
      - jwtAuth: []
      - cookieAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CoffeeBean'
          description: ''
  /api/beans/variants/:
    get:
      operationId: beans_variants_list
      description: |-
        ViewSet for CoffeeBeanVariant CRUD operations.

        Manage package sizes and pricing for coffee beans.
      tags:
      - beans
      security:
      - jwtAuth: []
      - cookieAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/CoffeeBeanVariant'
          description: ''
    post:
      operationId: beans_variants_create
      description: |-
        ViewSet for CoffeeBeanVariant CRUD operations.

        Manage package sizes and pricing for coffee beans.
      tags:
      - beans
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CoffeeBeanVariantRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/CoffeeBeanVariantRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/CoffeeBeanVariantRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CoffeeBeanVariant'
          description: ''
  /api/beans/variants/{id}/:
    get:
      operationId: beans_variants_retrieve
      description: |-
        ViewSet for CoffeeBeanVariant CRUD operations.

        Manage package sizes and pricing for coffee beans.
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this coffee bean variant.
        required: true
      tags:
      - beans
      security:
      - jwtAuth: []
      - cookieAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CoffeeBeanVariant'
          description: ''
    put:
      operationId: beans_variants_update
      description: |-
        ViewSet for CoffeeBeanVariant CRUD operations.

        Manage package sizes and pricing for coffee beans.
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this coffee bean variant.
        required: true
      tags:
      - beans
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CoffeeBeanVariantRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/CoffeeBeanVariantRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/CoffeeBeanVariantRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CoffeeBeanVariant'
          description: ''
    patch:
      operationId: beans_variants_partial_update
      description: |-
        ViewSet for CoffeeBeanVariant CRUD operations.

        Manage package sizes and pricing for coffee beans.
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this coffee bean variant.
        required: true
      tags:
      - beans
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedCoffeeBeanVariantRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedCoffeeBeanVariantRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedCoffeeBeanVariantRequest'
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CoffeeBeanVariant'
          description: ''
    delete:
      operationId: beans_variants_destroy
      description: |-
        ViewSet for CoffeeBeanVariant CRUD operations.

        Manage package sizes and pricing for coffee beans.
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this coffee bean variant.
        required: true
      tags:
      - beans
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '204':
          description: No response body
  /api/groups/:
    get:
      operationId: groups_list
      description: |-
        ViewSet for Group CRUD operations.

        list: Get all groups (user is member of)
        create: Create a new group
        retrieve: Get a specific group
        update: Update a group (admin only)
        partial_update: Partially update a group (admin only)
        destroy: Delete a group (owner only)
      parameters:
      - name: page
        required: false
        in: query
        description: A page number within the paginated result set.
        schema:
          type: integer
      - name: page_size
        required: false
        in: query
        description: Number of results to return per page.
        schema:
          type: integer
      tags:
      - groups
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedGroupListList'
          description: ''
    post:
      operationId: groups_create
      description: |-
        ViewSet for Group CRUD operations.

        list: Get all groups (user is member of)
        create: Create a new group
        retrieve: Get a specific group
        update: Update a group (admin only)
        partial_update: Partially update a group (admin only)
        destroy: Delete a group (owner only)
      tags:
      - groups
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GroupCreateRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/GroupCreateRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/GroupCreateRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GroupCreate'
          description: ''
  /api/groups/{id}/:
    get:
      operationId: groups_retrieve
      description: |-
        ViewSet for Group CRUD operations.

        list: Get all groups (user is member of)
        create: Create a new group
        retrieve: Get a specific group
        update: Update a group (admin only)
        partial_update: Partially update a group (admin only)
        destroy: Delete a group (owner only)
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this group.
        required: true
      tags:
      - groups
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Group'
          description: ''
    put:
      operationId: groups_update
      description: |-
        ViewSet for Group CRUD operations.

        list: Get all groups (user is member of)
        create: Create a new group
        retrieve: Get a specific group
        update: Update a group (admin only)
        partial_update: Partially update a group (admin only)
        destroy: Delete a group (owner only)
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this group.
        required: true
      tags:
      - groups
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GroupRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/GroupRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/GroupRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Group'
          description: ''
    patch:
      operationId: groups_partial_update
      description: |-
        ViewSet for Group CRUD operations.

        list: Get all groups (user is member of)
        create: Create a new group
        retrieve: Get a specific group
        update: Update a group (admin only)
        partial_update: Partially update a group (admin only)
        destroy: Delete a group (owner only)
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this group.
        required: true
      tags:
      - groups
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedGroupRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedGroupRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedGroupRequest'
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Group'
          description: ''
    delete:
      operationId: groups_destroy
      description: |-
        ViewSet for Group CRUD operations.

        list: Get all groups (user is member of)
        create: Create a new group
        retrieve: Get a specific group
        update: Update a group (admin only)
        partial_update: Partially update a group (admin only)
        destroy: Delete a group (owner only)
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this group.
        required: true
      tags:
      - groups
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '204':
          description: No response body
  /api/groups/{id}/add_to_library/:
    post:
      operationId: groups_add_to_library_create
      description: |-
        Add coffee bean to group library.

        POST /api/groups/{id}/add_to_library/
        Body: {"coffeebean_id": "uuid", "notes": "optional"}
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this group.
        required: true
      tags:
      - groups
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GroupRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/GroupRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/GroupRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Group'
          description: ''
  /api/groups/{id}/join/:
    post:
      operationId: groups_join_create
      description: |-
        Join a group using invite code.

        POST /api/groups/{id}/join/
        Body: {"invite_code": "abc123"}
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this group.
        required: true
      tags:
      - groups
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GroupRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/GroupRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/GroupRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Group'
          description: ''
  /api/groups/{id}/leave/:
    post:
      operationId: groups_leave_create
      description: |-
        Leave a group.

        POST /api/groups/{id}/leave/
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this group.
        required: true
      tags:
      - groups
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GroupRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/GroupRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/GroupRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Group'
          description: ''
  /api/groups/{id}/library/:
    get:
      operationId: groups_library_retrieve
      description: |-
        Get group's coffee library.

        GET /api/groups/{id}/library/
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this group.
        required: true
      tags:
      - groups
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Group'
          description: ''
  /api/groups/{id}/members/:
    get:
      operationId: groups_members_retrieve
      description: |-
        Get all members of the group.

        GET /api/groups/{id}/members/
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this group.
        required: true
      tags:
      - groups
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Group'
          description: ''
  /api/groups/{id}/regenerate_invite/:
    post:
      operationId: groups_regenerate_invite_create
      description: |-
        Regenerate invite code (admin only).

        POST /api/groups/{id}/regenerate_invite/
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this group.
        required: true
      tags:
      - groups
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GroupRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/GroupRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/GroupRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Group'
          description: ''
  /api/groups/{id}/remove_member/:
    delete:
      operationId: groups_remove_member_destroy
      description: |-
        Remove a member from the group (admin only).

        DELETE /api/groups/{id}/remove_member/
        Body: {"user_id": "uuid"}
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this group.
        required: true
      tags:
      - groups
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '204':
          description: No response body
  /api/groups/{id}/update_member_role/:
    post:
      operationId: groups_update_member_role_create
      description: |-
        Update member's role (admin only).

        POST /api/groups/{id}/update_member_role/
        Body: {"user_id": "uuid", "role": "admin" or "member"}
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this group.
        required: true
      tags:
      - groups
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GroupRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/GroupRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/GroupRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Group'
          description: ''
  /api/groups/my/:
    get:
      operationId: groups_my_list
      description: Get all groups where the current user is a member.
      tags:
      - groups
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/GroupList'
          description: ''
  /api/purchases/:
    get:
      operationId: purchases_list
      description: |-
        ViewSet for PurchaseRecord CRUD operations.

        list: Get all purchases (filterable by user/group)
        create: Create a new purchase (with payment split for groups)
        retrieve: Get a specific purchase
        update: Update a purchase
        destroy: Delete a purchase
      parameters:
      - name: page
        required: false
        in: query
        description: A page number within the paginated result set.
        schema:
          type: integer
      - name: page_size
        required: false
        in: query
        description: Number of results to return per page.
        schema:
          type: integer
      tags:
      - purchases
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedPurchaseRecordListList'
          description: ''
    post:
      operationId: purchases_create
      description: |-
        ViewSet for PurchaseRecord CRUD operations.

        list: Get all purchases (filterable by user/group)
        create: Create a new purchase (with payment split for groups)
        retrieve: Get a specific purchase
        update: Update a purchase
        destroy: Delete a purchase
      tags:
      - purchases
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PurchaseRecordCreateRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PurchaseRecordCreateRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PurchaseRecordCreateRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PurchaseRecordCreate'
          description: ''
  /api/purchases/{id}/:
    get:
      operationId: purchases_retrieve
      description: |-
        ViewSet for PurchaseRecord CRUD operations.

        list: Get all purchases (filterable by user/group)
        create: Create a new purchase (with payment split for groups)
        retrieve: Get a specific purchase
        update: Update a purchase
        destroy: Delete a purchase
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this purchase record.
        required: true
      tags:
      - purchases
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PurchaseRecord'
          description: ''
    put:
      operationId: purchases_update
      description: |-
        ViewSet for PurchaseRecord CRUD operations.

        list: Get all purchases (filterable by user/group)
        create: Create a new purchase (with payment split for groups)
        retrieve: Get a specific purchase
        update: Update a purchase
        destroy: Delete a purchase
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this purchase record.
        required: true
      tags:
      - purchases
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PurchaseRecordRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PurchaseRecordRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PurchaseRecordRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PurchaseRecord'
          description: ''
    patch:
      operationId: purchases_partial_update
      description: |-
        ViewSet for PurchaseRecord CRUD operations.

        list: Get all purchases (filterable by user/group)
        create: Create a new purchase (with payment split for groups)
        retrieve: Get a specific purchase
        update: Update a purchase
        destroy: Delete a purchase
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this purchase record.
        required: true
      tags:
      - purchases
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedPurchaseRecordRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedPurchaseRecordRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedPurchaseRecordRequest'
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PurchaseRecord'
          description: ''
    delete:
      operationId: purchases_destroy
      description: |-
        ViewSet for PurchaseRecord CRUD operations.

        list: Get all purchases (filterable by user/group)
        create: Create a new purchase (with payment split for groups)
        retrieve: Get a specific purchase
        update: Update a purchase
        destroy: Delete a purchase
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this purchase record.
        required: true
      tags:
      - purchases
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '204':
          description: No response body
  /api/purchases/{id}/mark_paid/:
    post:
      operationId: purchases_mark_paid_create
      description: |-
        Mark a payment share as paid.

        POST /api/purchases/{id}/mark_paid/
        Body: {"payment_reference": "COFFEE-...", "note": "optional"}
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this purchase record.
        required: true
      tags:
      - purchases
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PurchaseRecordRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PurchaseRecordRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PurchaseRecordRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PurchaseRecord'
          description: ''
  /api/purchases/{id}/shares/:
    get:
      operationId: purchases_shares_retrieve_2
      description: |-
        Get all payment shares for this purchase.

        GET /api/purchases/{id}/shares/
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this purchase record.
        required: true
      tags:
      - purchases
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PurchaseRecord'
          description: ''
  /api/purchases/{id}/summary/:
    get:
      operationId: purchases_summary_retrieve
      description: |-
        Get detailed summary of purchase and payment status.

        GET /api/purchases/{id}/summary/
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this purchase record.
        required: true
      tags:
      - purchases
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PurchaseRecord'
          description: ''
  /api/purchases/my_outstanding/:
    get:
      operationId: purchases_my_outstanding_retrieve
      description: Get all outstanding (unpaid) payment shares for the current user.
      tags:
      - purchases
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OutstandingPaymentsResponse'
          description: ''
  /api/purchases/shares/:
    get:
      operationId: purchases_shares_list
      description: |-
        ViewSet for PaymentShare operations (read-only).

        list: Get all payment shares (for current user)
        retrieve: Get a specific payment share
      parameters:
      - name: page
        required: false
        in: query
        description: A page number within the paginated result set.
        schema:
          type: integer
      - name: page_size
        required: false
        in: query
        description: Number of results to return per page.
        schema:
          type: integer
      tags:
      - purchases
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedPaymentShareList'
          description: ''
  /api/purchases/shares/{id}/:
    get:
      operationId: purchases_shares_retrieve
      description: |-
        ViewSet for PaymentShare operations (read-only).

        list: Get all payment shares (for current user)
        retrieve: Get a specific payment share
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this payment share.
        required: true
      tags:
      - purchases
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaymentShare'
          description: ''
  /api/purchases/shares/{id}/qr_code/:
    get:
      operationId: purchases_shares_qr_code_retrieve
      description: |-
        Get QR code for payment share.

        GET /api/shares/{id}/qr_code/
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this payment share.
        required: true
      tags:
      - purchases
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaymentShare'
          description: ''
  /api/reviews/:
    get:
      operationId: reviews_list
      description: |-
        ViewSet for Review CRUD operations.

        list: Get all reviews (with filters)
        create: Create a new review (auto-creates library entry)
        retrieve: Get a specific review
        update: Update a review (author only)
        partial_update: Partially update a review (author only)
        destroy: Delete a review (author only)
      parameters:
      - name: page
        required: false
        in: query
        description: A page number within the paginated result set.
        schema:
          type: integer
      - name: page_size
        required: false
        in: query
        description: Number of results to return per page.
        schema:
          type: integer
      tags:
      - reviews
      security:
      - jwtAuth: []
      - cookieAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedReviewList'
          description: ''
    post:
      operationId: reviews_create
      description: |-
        ViewSet for Review CRUD operations.

        list: Get all reviews (with filters)
        create: Create a new review (auto-creates library entry)
        retrieve: Get a specific review
        update: Update a review (author only)
        partial_update: Partially update a review (author only)
        destroy: Delete a review (author only)
      tags:
      - reviews
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ReviewCreateRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/ReviewCreateRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/ReviewCreateRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReviewCreate'
          description: ''
  /api/reviews/{id}/:
    get:
      operationId: reviews_retrieve
      description: |-
        ViewSet for Review CRUD operations.

        list: Get all reviews (with filters)
        create: Create a new review (auto-creates library entry)
        retrieve: Get a specific review
        update: Update a review (author only)
        partial_update: Partially update a review (author only)
        destroy: Delete a review (author only)
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this review.
        required: true
      tags:
      - reviews
      security:
      - jwtAuth: []
      - cookieAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Review'
          description: ''
    put:
      operationId: reviews_update
      description: |-
        ViewSet for Review CRUD operations.

        list: Get all reviews (with filters)
        create: Create a new review (auto-creates library entry)
        retrieve: Get a specific review
        update: Update a review (author only)
        partial_update: Partially update a review (author only)
        destroy: Delete a review (author only)
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this review.
        required: true
      tags:
      - reviews
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ReviewRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/ReviewRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/ReviewRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Review'
          description: ''
    patch:
      operationId: reviews_partial_update
      description: |-
        ViewSet for Review CRUD operations.

        list: Get all reviews (with filters)
        create: Create a new review (auto-creates library entry)
        retrieve: Get a specific review
        update: Update a review (author only)
        partial_update: Partially update a review (author only)
        destroy: Delete a review (author only)
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this review.
        required: true
      tags:
      - reviews
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedReviewRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedReviewRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedReviewRequest'
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Review'
          description: ''
    delete:
      operationId: reviews_destroy
      description: |-
        ViewSet for Review CRUD operations.

        list: Get all reviews (with filters)
        create: Create a new review (auto-creates library entry)
        retrieve: Get a specific review
        update: Update a review (author only)
        partial_update: Partially update a review (author only)
        destroy: Delete a review (author only)
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this review.
        required: true
      tags:
      - reviews
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '204':
          description: No response body
  /api/reviews/bean/{bean_id}/summary/:
    get:
      operationId: reviews_bean_summary_retrieve
      description: Get comprehensive review summary for a coffee bean including rating
        breakdown, common tags, and recent reviews.
      parameters:
      - in: path
        name: bean_id
        schema:
          type: string
          format: uuid
        required: true
      tags:
      - reviews
      security:
      - jwtAuth: []
      - cookieAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BeanReviewSummary'
          description: ''
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: ''
  /api/reviews/library/:
    get:
      operationId: reviews_library_list
      description: Get user's coffee library with their saved beans.
      parameters:
      - in: query
        name: archived
        schema:
          type: boolean
          default: false
        description: Show archived entries
      - in: query
        name: search
        schema:
          type: string
        description: Search in bean name or roastery
      tags:
      - reviews
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/UserLibraryEntry'
          description: ''
  /api/reviews/library/{entry_id}/:
    delete:
      operationId: reviews_library_destroy
      description: Remove a coffee bean from user's library.
      parameters:
      - in: path
        name: entry_id
        schema:
          type: string
          format: uuid
        required: true
      tags:
      - reviews
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '204':
          description: No response body
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: ''
  /api/reviews/library/{entry_id}/archive/:
    patch:
      operationId: reviews_library_archive_partial_update
      description: Archive or unarchive a library entry.
      parameters:
      - in: path
        name: entry_id
        schema:
          type: string
          format: uuid
        required: true
      tags:
      - reviews
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedArchiveLibraryRequestRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedArchiveLibraryRequestRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedArchiveLibraryRequestRequest'
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserLibraryEntry'
          description: ''
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: ''
  /api/reviews/library/add/:
    post:
      operationId: reviews_library_add_create
      description: Manually add a coffee bean to user's library. Returns 200 if already
        exists.
      tags:
      - reviews
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AddToLibraryRequestRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/AddToLibraryRequestRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/AddToLibraryRequestRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserLibraryEntry'
          description: ''
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserLibraryEntry'
          description: ''
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: ''
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: ''
  /api/reviews/my_reviews/:
    get:
      operationId: reviews_my_reviews_retrieve
      description: Get current user's reviews.
      tags:
      - reviews
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Review'
          description: ''
  /api/reviews/statistics/:
    get:
      operationId: reviews_statistics_retrieve
      description: |-
        Get review statistics.

        Returns:
        - Total reviews
        - Average rating
        - Rating distribution
        - Top tags
        - Reviews by month
      tags:
      - reviews
      security:
      - jwtAuth: []
      - cookieAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Review'
          description: ''
  /api/reviews/tags/:
    get:
      operationId: reviews_tags_list
      description: |-
        ViewSet for Tag operations (read-only for users).

        list: Get all tags
        retrieve: Get a specific tag
      tags:
      - reviews
      security:
      - jwtAuth: []
      - cookieAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Tag'
          description: ''
  /api/reviews/tags/{id}/:
    get:
      operationId: reviews_tags_retrieve
      description: |-
        ViewSet for Tag operations (read-only for users).

        list: Get all tags
        retrieve: Get a specific tag
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this tag.
        required: true
      tags:
      - reviews
      security:
      - jwtAuth: []
      - cookieAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Tag'
          description: ''
  /api/reviews/tags/create/:
    post:
      operationId: reviews_tags_create_create
      description: Create a new taste tag for coffee reviews.
      tags:
      - reviews
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TagRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/TagRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/TagRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Tag'
          description: ''
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: ''
  /api/reviews/tags/popular/:
    get:
      operationId: reviews_tags_popular_retrieve
      description: Get most popular tags.
      tags:
      - reviews
      security:
      - jwtAuth: []
      - cookieAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Tag'
          description: ''
components:
  schemas:
    AddToLibraryRequestRequest:
      type: object
      properties:
        coffeebean_id:
          type: string
          format: uuid
          description: UUID of coffee bean to add
      required:
      - coffeebean_id
    AddedByEnum:
      enum:
      - review
      - purchase
      - manual
      type: string
      description: |-
        * `review` - From Review
        * `purchase` - From Purchase
        * `manual` - Manual Add
    AuthResponse:
      type: object
      properties:
        message:
          type: string
        user:
          $ref: '#/components/schemas/User'
        tokens:
          $ref: '#/components/schemas/TokensResponse'
      required:
      - message
      - tokens
      - user
    BeanReviewSummary:
      type: object
      description: Summary of reviews for a specific bean.
      properties:
        bean_id:
          type: string
          format: uuid
        bean_name:
          type: string
        total_reviews:
          type: integer
        avg_rating:
          type: string
          format: decimal
          pattern: ^-?\d{0,1}(?:\.\d{0,2})?$
        rating_breakdown:
          type: object
          additionalProperties: {}
        common_tags:
          type: array
          items: {}
        recent_reviews:
          type: array
          items:
            $ref: '#/components/schemas/Review'
      required:
      - avg_rating
      - bean_id
      - bean_name
      - common_tags
      - rating_breakdown
      - recent_reviews
      - total_reviews
    BrewMethodEnum:
      enum:
      - espresso
      - filter
      - french_press
      - aeropress
      - moka
      - cold_brew
      - other
      - automat
      type: string
      description: |-
        * `espresso` - Espresso
        * `filter` - Filter/Pour Over
        * `french_press` - French Press
        * `aeropress` - AeroPress
        * `moka` - Moka Pot
        * `cold_brew` - Cold Brew
        * `other` - Other
        * `automat` - Automat
    CoffeeBean:
      type: object
      description: Main serializer for coffee beans.
      properties:
        id:
          type: string
          format: uuid
          readOnly: true
        name:
          type: string
          maxLength: 200
        roastery_name:
          type: string
          maxLength: 200
        origin_country:
          type: string
          maxLength: 100
        region:
          type: string
          maxLength: 200
        processing:
          $ref: '#/components/schemas/ProcessingEnum'
        roast_profile:
          $ref: '#/components/schemas/RoastProfileEnum'
        roast_date:
          type: string
          format: date
          nullable: true
        brew_method:
          $ref: '#/components/schemas/BrewMethodEnum'
        description:
          type: string
        tasting_notes:
          type: string
          maxLength: 500
        avg_rating:
          type: string
          format: decimal
          pattern: ^-?\d{0,1}(?:\.\d{0,2})?$
          readOnly: true
        review_count:
          type: integer
          readOnly: true
        variants:
          type: array
          items:
            $ref: '#/components/schemas/CoffeeBeanVariant'
          readOnly: true
        is_active:
          type: boolean
        created_by:
          type: string
          format: uuid
          nullable: true
        created_by_email:
          type: string
          format: email
          readOnly: true
        created_at:
          type: string
          format: date-time
          readOnly: true
        updated_at:
          type: string
          format: date-time
          readOnly: true
      required:
      - avg_rating
      - created_at
      - created_by_email
      - id
      - name
      - review_count
      - roastery_name
      - updated_at
      - variants
    CoffeeBeanCreate:
      type: object
      description: Serializer for creating coffee beans.
      properties:
        name:
          type: string
          maxLength: 200
        roastery_name:
          type: string
          maxLength: 200
        origin_country:
          type: string
          maxLength: 100
        region:
          type: string
          maxLength: 200
        processing:
          $ref: '#/components/schemas/ProcessingEnum'
        roast_profile:
          $ref: '#/components/schemas/RoastProfileEnum'
        roast_date:
          type: string
          format: date
          nullable: true
        brew_method:
          $ref: '#/components/schemas/BrewMethodEnum'
        description:
          type: string
        tasting_notes:
          type: string
          maxLength: 500
      required:
      - name
      - roastery_name
    CoffeeBeanCreateRequest:
      type: object
      description: Serializer for creating coffee beans.
      properties:
        name:
          type: string
          minLength: 1
          maxLength: 200
        roastery_name:
          type: string
          minLength: 1
          maxLength: 200
        origin_country:
          type: string
          maxLength: 100
        region:
          type: string
          maxLength: 200
        processing:
          $ref: '#/components/schemas/ProcessingEnum'
        roast_profile:
          $ref: '#/components/schemas/RoastProfileEnum'
        roast_date:
          type: string
          format: date
          nullable: true
        brew_method:
          $ref: '#/components/schemas/BrewMethodEnum'
        description:
          type: string
        tasting_notes:
          type: string
          maxLength: 500
      required:
      - name
      - roastery_name
    CoffeeBeanList:
      type: object
      description: Lightweight serializer for list views.
      properties:
        id:
          type: string
          format: uuid
          readOnly: true
        name:
          type: string
          readOnly: true
        roastery_name:
          type: string
          readOnly: true
        origin_country:
          type: string
          readOnly: true
        roast_profile:
          allOf:
          - $ref: '#/components/schemas/RoastProfileEnum'
          readOnly: true
        avg_rating:
          type: string
          format: decimal
          pattern: ^-?\d{0,1}(?:\.\d{0,2})?$
          readOnly: true
        review_count:
          type: integer
          readOnly: true
        created_at:
          type: string
          format: date-time
          readOnly: true
      required:
      - avg_rating
      - created_at
      - id
      - name
      - origin_country
      - review_count
      - roast_profile
      - roastery_name
    CoffeeBeanMinimal:
      type: object
      description: Minimal bean info for nested serialization.
      properties:
        id:
          type: string
          format: uuid
          readOnly: true
        name:
          type: string
          readOnly: true
        roastery_name:
          type: string
          readOnly: true
      required:
      - id
      - name
      - roastery_name
    CoffeeBeanRequest:
      type: object
      description: Main serializer for coffee beans.
      properties:
        name:
          type: string
          minLength: 1
          maxLength: 200
        roastery_name:
          type: string
          minLength: 1
          maxLength: 200
        origin_country:
          type: string
          maxLength: 100
        region:
          type: string
          maxLength: 200
        processing:
          $ref: '#/components/schemas/ProcessingEnum'
        roast_profile:
          $ref: '#/components/schemas/RoastProfileEnum'
        roast_date:
          type: string
          format: date
          nullable: true
        brew_method:
          $ref: '#/components/schemas/BrewMethodEnum'
        description:
          type: string
        tasting_notes:
          type: string
          maxLength: 500
        is_active:
          type: boolean
        created_by:
          type: string
          format: uuid
          nullable: true
      required:
      - name
      - roastery_name
    CoffeeBeanVariant:
      type: object
      description: Serializer for coffee bean variants (package sizes/prices).
      properties:
        id:
          type: string
          format: uuid
          readOnly: true
        coffeebean:
          type: string
          format: uuid
        package_weight_grams:
          type: integer
          maximum: 4294967295
          minimum: 1
          format: int64
        price_czk:
          type: string
          format: decimal
          pattern: ^-?\d{0,8}(?:\.\d{0,2})?$
        price_per_gram:
          type: string
          format: decimal
          pattern: ^-?\d{0,6}(?:\.\d{0,4})?$
          readOnly: true
        purchase_url:
          type: string
          format: uri
          maxLength: 500
        is_active:
          type: boolean
        created_at:
          type: string
          format: date-time
          readOnly: true
        updated_at:
          type: string
          format: date-time
          readOnly: true
      required:
      - coffeebean
      - created_at
      - id
      - package_weight_grams
      - price_czk
      - price_per_gram
      - updated_at
    CoffeeBeanVariantRequest:
      type: object
      description: Serializer for coffee bean variants (package sizes/prices).
      properties:
        coffeebean:
          type: string
          format: uuid
        package_weight_grams:
          type: integer
          maximum: 4294967295
          minimum: 1
          format: int64
        price_czk:
          type: string
          format: decimal
          pattern: ^-?\d{0,8}(?:\.\d{0,2})?$
        purchase_url:
          type: string
          format: uri
          maxLength: 500
        is_active:
          type: boolean
      required:
      - coffeebean
      - package_weight_grams
      - price_czk
    ContextEnum:
      enum:
      - personal
      - group
      - public
      type: string
      description: |-
        * `personal` - Personal
        * `group` - Group/Team
        * `public` - Public
    DashboardResponse:
      type: object
      properties:
        consumption:
          $ref: '#/components/schemas/UserConsumption'
        taste_profile:
          allOf:
          - $ref: '#/components/schemas/TasteProfile'
          nullable: true
        top_beans:
          type: array
          items:
            $ref: '#/components/schemas/DashboardTopBean'
      required:
      - consumption
      - taste_profile
      - top_beans
    DashboardTopBean:
      type: object
      properties:
        id:
          type: string
        name:
          type: string
        roastery_name:
          type: string
        avg_rating:
          type: number
          format: double
        review_count:
          type: integer
      required:
      - avg_rating
      - id
      - name
      - review_count
      - roastery_name
    Error:
      type: object
      properties:
        error:
          type: string
      required:
      - error
    ErrorResponse:
      type: object
      properties:
        error:
          type: string
      required:
      - error
    Group:
      type: object
      description: Main serializer for groups.
      properties:
        id:
          type: string
          format: uuid
          readOnly: true
        name:
          type: string
          maxLength: 200
        description:
          type: string
        is_private:
          type: boolean
        invite_code:
          type: string
          readOnly: true
        owner:
          allOf:
          - $ref: '#/components/schemas/UserMinimal'
          readOnly: true
        member_count:
          type: string
          readOnly: true
        user_role:
          type: string
          readOnly: true
        created_at:
          type: string
          format: date-time
          readOnly: true
        updated_at:
          type: string
          format: date-time
          readOnly: true
      required:
      - created_at
      - id
      - invite_code
      - member_count
      - name
      - owner
      - updated_at
      - user_role
    GroupConsumption:
      type: object
      properties:
        total_kg:
          type: number
          format: double
        total_czk:
          type: number
          format: double
        purchases_count:
          type: integer
        unique_beans:
          type: integer
        member_breakdown:
          type: array
          items:
            $ref: '#/components/schemas/MemberBreakdown'
      required:
      - member_breakdown
      - purchases_count
      - total_czk
      - total_kg
      - unique_beans
    GroupCreate:
      type: object
      description: Serializer for creating groups.
      properties:
        name:
          type: string
          maxLength: 200
        description:
          type: string
        is_private:
          type: boolean
      required:
      - name
    GroupCreateRequest:
      type: object
      description: Serializer for creating groups.
      properties:
        name:
          type: string
          minLength: 1
          maxLength: 200
        description:
          type: string
        is_private:
          type: boolean
      required:
      - name
    GroupList:
      type: object
      description: Lightweight serializer for list views.
      properties:
        id:
          type: string
          format: uuid
          readOnly: true
        name:
          type: string
          readOnly: true
        description:
          type: string
          readOnly: true
        is_private:
          type: boolean
          readOnly: true
        owner:
          allOf:
          - $ref: '#/components/schemas/UserMinimal'
          readOnly: true
        member_count:
          type: string
          readOnly: true
        created_at:
          type: string
          format: date-time
          readOnly: true
      required:
      - created_at
      - description
      - id
      - is_private
      - member_count
      - name
      - owner
    GroupRequest:
      type: object
      description: Main serializer for groups.
      properties:
        name:
          type: string
          minLength: 1
          maxLength: 200
        description:
          type: string
        is_private:
          type: boolean
      required:
      - name
    LogoutRequestRequest:
      type: object
      properties:
        refresh:
          type: string
          minLength: 1
          description: Refresh token to blacklist
      required:
      - refresh
    MemberBreakdown:
      type: object
      properties:
        user:
          $ref: '#/components/schemas/MemberBreakdownUser'
        kg:
          type: number
          format: double
        czk:
          type: number
          format: double
      required:
      - czk
      - kg
      - user
    MemberBreakdownUser:
      type: object
      properties:
        id:
          type: string
        email:
          type: string
          format: email
        display_name:
          type: string
      required:
      - display_name
      - email
      - id
    MessageResponse:
      type: object
      properties:
        message:
          type: string
      required:
      - message
    OutstandingPaymentsResponse:
      type: object
      properties:
        total_outstanding:
          type: string
          format: decimal
          pattern: ^-?\d{0,8}(?:\.\d{0,2})?$
        count:
          type: integer
        shares:
          type: array
          items:
            $ref: '#/components/schemas/PaymentShare'
      required:
      - count
      - shares
      - total_outstanding
    PaginatedCoffeeBeanListList:
      type: object
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=4
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=2
        results:
          type: array
          items:
            $ref: '#/components/schemas/CoffeeBeanList'
    PaginatedGroupListList:
      type: object
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=4
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=2
        results:
          type: array
          items:
            $ref: '#/components/schemas/GroupList'
    PaginatedPaymentShareList:
      type: object
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=4
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=2
        results:
          type: array
          items:
            $ref: '#/components/schemas/PaymentShare'
    PaginatedPurchaseRecordListList:
      type: object
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=4
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=2
        results:
          type: array
          items:
            $ref: '#/components/schemas/PurchaseRecordList'
    PaginatedReviewList:
      type: object
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=4
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=2
        results:
          type: array
          items:
            $ref: '#/components/schemas/Review'
    PasswordResetConfirmRequest:
      type: object
      description: Serializer for password reset confirmation.
      properties:
        token:
          type: string
          minLength: 1
        new_password:
          type: string
          minLength: 1
        new_password_confirm:
          type: string
          minLength: 1
      required:
      - new_password
      - new_password_confirm
      - token
    PasswordResetRequestRequest:
      type: object
      description: Serializer for password reset request.
      properties:
        email:
          type: string
          format: email
          minLength: 1
      required:
      - email
    PatchedArchiveLibraryRequestRequest:
      type: object
      properties:
        is_archived:
          type: boolean
          default: true
    PatchedCoffeeBeanRequest:
      type: object
      description: Main serializer for coffee beans.
      properties:
        name:
          type: string
          minLength: 1
          maxLength: 200
        roastery_name:
          type: string
          minLength: 1
          maxLength: 200
        origin_country:
          type: string
          maxLength: 100
        region:
          type: string
          maxLength: 200
        processing:
          $ref: '#/components/schemas/ProcessingEnum'
        roast_profile:
          $ref: '#/components/schemas/RoastProfileEnum'
        roast_date:
          type: string
          format: date
          nullable: true
        brew_method:
          $ref: '#/components/schemas/BrewMethodEnum'
        description:
          type: string
        tasting_notes:
          type: string
          maxLength: 500
        is_active:
          type: boolean
        created_by:
          type: string
          format: uuid
          nullable: true
    PatchedCoffeeBeanVariantRequest:
      type: object
      description: Serializer for coffee bean variants (package sizes/prices).
      properties:
        coffeebean:
          type: string
          format: uuid
        package_weight_grams:
          type: integer
          maximum: 4294967295
          minimum: 1
          format: int64
        price_czk:
          type: string
          format: decimal
          pattern: ^-?\d{0,8}(?:\.\d{0,2})?$
        purchase_url:
          type: string
          format: uri
          maxLength: 500
        is_active:
          type: boolean
    PatchedGroupRequest:
      type: object
      description: Main serializer for groups.
      properties:
        name:
          type: string
          minLength: 1
          maxLength: 200
        description:
          type: string
        is_private:
          type: boolean
    PatchedPurchaseRecordRequest:
      type: object
      description: Main serializer for purchase records.
      properties:
        group:
          type: string
          format: uuid
          nullable: true
        variant:
          type: string
          format: uuid
          nullable: true
        total_price_czk:
          type: string
          format: decimal
          pattern: ^-?\d{0,8}(?:\.\d{0,2})?$
        currency:
          type: string
          minLength: 1
          maxLength: 3
        package_weight_grams:
          type: integer
          maximum: 4294967295
          minimum: 0
          format: int64
          nullable: true
        date:
          type: string
          format: date
        purchase_location:
          type: string
          maxLength: 200
        note:
          type: string
    PatchedReviewRequest:
      type: object
      description: Main review serializer.
      properties:
        coffeebean:
          type: string
          format: uuid
        rating:
          type: integer
          maximum: 5
          minimum: 1
        aroma_score:
          type: integer
          maximum: 5
          minimum: 1
          nullable: true
        flavor_score:
          type: integer
          maximum: 5
          minimum: 1
          nullable: true
        acidity_score:
          type: integer
          maximum: 5
          minimum: 1
          nullable: true
        body_score:
          type: integer
          maximum: 5
          minimum: 1
          nullable: true
        aftertaste_score:
          type: integer
          maximum: 5
          minimum: 1
          nullable: true
        notes:
          type: string
        brew_method:
          type: string
          maxLength: 50
        taste_tag_ids:
          type: array
          items:
            type: string
            format: uuid
          writeOnly: true
        context:
          $ref: '#/components/schemas/ContextEnum'
        group:
          type: string
          format: uuid
          nullable: true
        would_buy_again:
          type: boolean
          nullable: true
    PatchedUserRequest:
      type: object
      description: Basic user serializer for profile display.
      properties:
        display_name:
          type: string
          maxLength: 100
        preferences: {}
    PaymentShare:
      type: object
      description: Serializer for payment shares.
      properties:
        id:
          type: string
          format: uuid
          readOnly: true
        purchase:
          type: string
          format: uuid
        user:
          allOf:
          - $ref: '#/components/schemas/UserMinimal'
          readOnly: true
        amount_czk:
          type: string
          format: decimal
          pattern: ^-?\d{0,8}(?:\.\d{0,2})?$
        currency:
          type: string
          maxLength: 3
        status:
          $ref: '#/components/schemas/StatusEnum'
        payment_reference:
          type: string
          readOnly: true
        qr_url:
          type: string
          readOnly: true
        qr_image_path:
          type: string
          readOnly: true
        paid_at:
          type: string
          format: date-time
          readOnly: true
          nullable: true
        paid_by:
          type: string
          format: uuid
          nullable: true
        created_at:
          type: string
          format: date-time
          readOnly: true
        updated_at:
          type: string
          format: date-time
          readOnly: true
      required:
      - amount_czk
      - created_at
      - id
      - paid_at
      - payment_reference
      - purchase
      - qr_image_path
      - qr_url
      - updated_at
      - user
    PaymentShareRequest:
      type: object
      description: Serializer for payment shares.
      properties:
        purchase:
          type: string
          format: uuid
        amount_czk:
          type: string
          format: decimal
          pattern: ^-?\d{0,8}(?:\.\d{0,2})?$
        currency:
          type: string
          minLength: 1
          maxLength: 3
        status:
          $ref: '#/components/schemas/StatusEnum'
        paid_by:
          type: string
          format: uuid
          nullable: true
      required:
      - amount_czk
      - purchase
    ProcessingEnum:
      enum:
      - washed
      - natural
      - honey
      - anaerobic
      - other
      type: string
      description: |-
        * `washed` - Washed
        * `natural` - Natural/Dry
        * `honey` - Honey
        * `anaerobic` - Anaerobic
        * `other` - Other
    PurchaseRecord:
      type: object
      description: Main serializer for purchase records.
      properties:
        id:
          type: string
          format: uuid
          readOnly: true
        group:
          type: string
          format: uuid
          nullable: true
        coffeebean:
          allOf:
          - $ref: '#/components/schemas/CoffeeBeanMinimal'
          readOnly: true
        variant:
          type: string
          format: uuid
          nullable: true
        bought_by:
          allOf:
          - $ref: '#/components/schemas/UserMinimal'
          readOnly: true
        total_price_czk:
          type: string
          format: decimal
          pattern: ^-?\d{0,8}(?:\.\d{0,2})?$
        currency:
          type: string
          maxLength: 3
        package_weight_grams:
          type: integer
          maximum: 4294967295
          minimum: 0
          format: int64
          nullable: true
        date:
          type: string
          format: date
        purchase_location:
          type: string
          maxLength: 200
        note:
          type: string
        total_collected_czk:
          type: string
          format: decimal
          pattern: ^-?\d{0,8}(?:\.\d{0,2})?$
          readOnly: true
        is_fully_paid:
          type: boolean
          readOnly: true
        payment_shares:
          type: array
          items:
            $ref: '#/components/schemas/PaymentShare'
          readOnly: true
        created_at:
          type: string
          format: date-time
          readOnly: true
        updated_at:
          type: string
          format: date-time
          readOnly: true
      required:
      - bought_by
      - coffeebean
      - created_at
      - date
      - id
      - is_fully_paid
      - payment_shares
      - total_collected_czk
      - total_price_czk
      - updated_at
    PurchaseRecordCreate:
      type: object
      description: Serializer for creating purchase records.
      properties:
        group:
          type: string
          format: uuid
          nullable: true
        coffeebean:
          type: string
          format: uuid
          nullable: true
        variant:
          type: string
          format: uuid
          nullable: true
        total_price_czk:
          type: string
          format: decimal
          pattern: ^-?\d{0,8}(?:\.\d{0,2})?$
        package_weight_grams:
          type: integer
          maximum: 4294967295
          minimum: 0
          format: int64
          nullable: true
        date:
          type: string
          format: date
        purchase_location:
          type: string
          maxLength: 200
        note:
          type: string
      required:
      - date
      - total_price_czk
    PurchaseRecordCreateRequest:
      type: object
      description: Serializer for creating purchase records.
      properties:
        group:
          type: string
          format: uuid
          nullable: true
        coffeebean:
          type: string
          format: uuid
          nullable: true
        variant:
          type: string
          format: uuid
          nullable: true
        total_price_czk:
          type: string
          format: decimal
          pattern: ^-?\d{0,8}(?:\.\d{0,2})?$
        package_weight_grams:
          type: integer
          maximum: 4294967295
          minimum: 0
          format: int64
          nullable: true
        date:
          type: string
          format: date
        purchase_location:
          type: string
          maxLength: 200
        note:
          type: string
        split_members:
          type: array
          items:
            type: string
            format: uuid
          writeOnly: true
          description: List of user IDs to split payment among. If not provided, splits
            among all group members.
      required:
      - date
      - total_price_czk
    PurchaseRecordList:
      type: object
      description: Lightweight serializer for list views.
      properties:
        id:
          type: string
          format: uuid
          readOnly: true
        group:
          type: string
          format: uuid
          readOnly: true
          nullable: true
        coffeebean_name:
          type: string
          readOnly: true
        bought_by:
          allOf:
          - $ref: '#/components/schemas/UserMinimal'
          readOnly: true
        total_price_czk:
          type: string
          format: decimal
          pattern: ^-?\d{0,8}(?:\.\d{0,2})?$
          readOnly: true
        date:
          type: string
          format: date
          readOnly: true
        is_fully_paid:
          type: boolean
          readOnly: true
        created_at:
          type: string
          format: date-time
          readOnly: true
      required:
      - bought_by
      - coffeebean_name
      - created_at
      - date
      - group
      - id
      - is_fully_paid
      - total_price_czk
    PurchaseRecordRequest:
      type: object
      description: Main serializer for purchase records.
      properties:
        group:
          type: string
          format: uuid
          nullable: true
        variant:
          type: string
          format: uuid
          nullable: true
        total_price_czk:
          type: string
          format: decimal
          pattern: ^-?\d{0,8}(?:\.\d{0,2})?$
        currency:
          type: string
          minLength: 1
          maxLength: 3
        package_weight_grams:
          type: integer
          maximum: 4294967295
          minimum: 0
          format: int64
          nullable: true
        date:
          type: string
          format: date
        purchase_location:
          type: string
          maxLength: 200
        note:
          type: string
      required:
      - date
      - total_price_czk
    Review:
      type: object
      description: Main review serializer.
      properties:
        id:
          type: string
          format: uuid
          readOnly: true
        coffeebean:
          type: string
          format: uuid
        coffeebean_detail:
          allOf:
          - $ref: '#/components/schemas/CoffeeBeanMinimal'
          readOnly: true
        author:
          allOf:
          - $ref: '#/components/schemas/UserMinimal'
          readOnly: true
        rating:
          type: integer
          maximum: 5
          minimum: 1
        aroma_score:
          type: integer
          maximum: 5
          minimum: 1
          nullable: true
        flavor_score:
          type: integer
          maximum: 5
          minimum: 1
          nullable: true
        acidity_score:
          type: integer
          maximum: 5
          minimum: 1
          nullable: true
        body_score:
          type: integer
          maximum: 5
          minimum: 1
          nullable: true
        aftertaste_score:
          type: integer
          maximum: 5
          minimum: 1
          nullable: true
        notes:
          type: string
        brew_method:
          type: string
          maxLength: 50
        taste_tags:
          type: array
          items:
            $ref: '#/components/schemas/Tag'
          readOnly: true
        context:
          $ref: '#/components/schemas/ContextEnum'
        group:
          type: string
          format: uuid
          nullable: true
        would_buy_again:
          type: boolean
          nullable: true
        created_at:
          type: string
          format: date-time
          readOnly: true
        updated_at:
          type: string
          format: date-time
          readOnly: true
      required:
      - author
      - coffeebean
      - coffeebean_detail
      - created_at
      - id
      - rating
      - taste_tags
      - updated_at
    ReviewCreate:
      type: object
      description: Simplified serializer for review creation.
      properties:
        coffeebean:
          type: string
          format: uuid
        rating:
          type: integer
          maximum: 5
          minimum: 1
        aroma_score:
          type: integer
          maximum: 5
          minimum: 1
          nullable: true
        flavor_score:
          type: integer
          maximum: 5
          minimum: 1
          nullable: true
        acidity_score:
          type: integer
          maximum: 5
          minimum: 1
          nullable: true
        body_score:
          type: integer
          maximum: 5
          minimum: 1
          nullable: true
        aftertaste_score:
          type: integer
          maximum: 5
          minimum: 1
          nullable: true
        notes:
          type: string
        brew_method:
          type: string
          maxLength: 50
        context:
          $ref: '#/components/schemas/ContextEnum'
        group:
          type: string
          format: uuid
          nullable: true
        would_buy_again:
          type: boolean
          nullable: true
      required:
      - coffeebean
      - rating
    ReviewCreateRequest:
      type: object
      description: Simplified serializer for review creation.
      properties:
        coffeebean:
          type: string
          format: uuid
        rating:
          type: integer
          maximum: 5
          minimum: 1
        aroma_score:
          type: integer
          maximum: 5
          minimum: 1
          nullable: true
        flavor_score:
          type: integer
          maximum: 5
          minimum: 1
          nullable: true
        acidity_score:
          type: integer
          maximum: 5
          minimum: 1
          nullable: true
        body_score:
          type: integer
          maximum: 5
          minimum: 1
          nullable: true
        aftertaste_score:
          type: integer
          maximum: 5
          minimum: 1
          nullable: true
        notes:
          type: string
        brew_method:
          type: string
          maxLength: 50
        taste_tag_ids:
          type: array
          items:
            type: string
            format: uuid
          writeOnly: true
        context:
          $ref: '#/components/schemas/ContextEnum'
        group:
          type: string
          format: uuid
          nullable: true
        would_buy_again:
          type: boolean
          nullable: true
      required:
      - coffeebean
      - rating
    ReviewRequest:
      type: object
      description: Main review serializer.
      properties:
        coffeebean:
          type: string
          format: uuid
        rating:
          type: integer
          maximum: 5
          minimum: 1
        aroma_score:
          type: integer
          maximum: 5
          minimum: 1
          nullable: true
        flavor_score:
          type: integer
          maximum: 5
          minimum: 1
          nullable: true
        acidity_score:
          type: integer
          maximum: 5
          minimum: 1
          nullable: true
        body_score:
          type: integer
          maximum: 5
          minimum: 1
          nullable: true
        aftertaste_score:
          type: integer
          maximum: 5
          minimum: 1
          nullable: true
        notes:
          type: string
        brew_method:
          type: string
          maxLength: 50
        taste_tag_ids:
          type: array
          items:
            type: string
            format: uuid
          writeOnly: true
        context:
          $ref: '#/components/schemas/ContextEnum'
        group:
          type: string
          format: uuid
          nullable: true
        would_buy_again:
          type: boolean
          nullable: true
      required:
      - coffeebean
      - rating
    RoastProfileEnum:
      enum:
      - light
      - medium_light
      - medium
      - medium_dark
      - dark
      type: string
      description: |-
        * `light` - Light
        * `medium_light` - Medium-Light
        * `medium` - Medium
        * `medium_dark` - Medium-Dark
        * `dark` - Dark
    StatusEnum:
      enum:
      - unpaid
      - paid
      - failed
      - refunded
      type: string
      description: |-
        * `unpaid` - Unpaid
        * `paid` - Paid
        * `failed` - Failed
        * `refunded` - Refunded
    Tag:
      type: object
      description: Serializer for taste tags.
      properties:
        id:
          type: string
          format: uuid
          readOnly: true
        name:
          type: string
          maxLength: 50
        category:
          type: string
          maxLength: 50
      required:
      - id
      - name
    TagRequest:
      type: object
      description: Serializer for taste tags.
      properties:
        name:
          type: string
          minLength: 1
          maxLength: 50
        category:
          type: string
          maxLength: 50
      required:
      - name
    TasteProfile:
      type: object
      properties:
        review_count:
          type: integer
        avg_rating:
          type: number
          format: double
        favorite_origins:
          type: array
          items:
            type: object
            additionalProperties: {}
        favorite_roast_profiles:
          type: array
          items:
            type: object
            additionalProperties: {}
        common_tags:
          type: array
          items:
            type: object
            additionalProperties: {}
        brew_methods:
          type: array
          items:
            type: object
            additionalProperties: {}
      required:
      - avg_rating
      - brew_methods
      - common_tags
      - favorite_origins
      - favorite_roast_profiles
      - review_count
    TimeseriesPoint:
      type: object
      properties:
        period:
          type: string
        kg:
          type: number
          format: double
        czk:
          type: number
          format: double
        purchases_count:
          type: integer
      required:
      - czk
      - kg
      - period
      - purchases_count
    TimeseriesResponse:
      type: object
      properties:
        granularity:
          type: string
        data:
          type: array
          items:
            $ref: '#/components/schemas/TimeseriesPoint'
      required:
      - data
      - granularity
    TokenRefresh:
      type: object
      properties:
        access:
          type: string
          readOnly: true
      required:
      - access
    TokenRefreshRequest:
      type: object
      properties:
        refresh:
          type: string
          writeOnly: true
          minLength: 1
      required:
      - refresh
    TokensResponse:
      type: object
      properties:
        refresh:
          type: string
        access:
          type: string
      required:
      - access
      - refresh
    TopBean:
      type: object
      properties:
        id:
          type: string
        name:
          type: string
        roastery_name:
          type: string
        score:
          type: number
          format: double
        metric:
          type: string
        review_count:
          type: integer
        avg_rating:
          type: number
          format: double
        total_kg:
          type: number
          format: double
        total_spent_czk:
          type: string
      required:
      - id
      - metric
      - name
      - roastery_name
      - score
    TopBeansResponse:
      type: object
      properties:
        metric:
          type: string
        period_days:
          type: integer
          nullable: true
        results:
          type: array
          items:
            $ref: '#/components/schemas/TopBean'
      required:
      - metric
      - period_days
      - results
    User:
      type: object
      description: Basic user serializer for profile display.
      properties:
        id:
          type: string
          format: uuid
          readOnly: true
        email:
          type: string
          format: email
          readOnly: true
        display_name:
          type: string
          maxLength: 100
        email_verified:
          type: boolean
          readOnly: true
        created_at:
          type: string
          format: date-time
          readOnly: true
        last_login:
          type: string
          format: date-time
          readOnly: true
          nullable: true
        preferences: {}
      required:
      - created_at
      - email
      - email_verified
      - id
      - last_login
    UserConsumption:
      type: object
      properties:
        total_kg:
          type: number
          format: double
        total_czk:
          type: number
          format: double
        purchases_count:
          type: integer
        unique_beans:
          type: integer
        avg_price_per_kg:
          type: number
          format: double
          nullable: true
      required:
      - avg_price_per_kg
      - purchases_count
      - total_czk
      - total_kg
      - unique_beans
    UserLibraryEntry:
      type: object
      description: Serializer for user library entries.
      properties:
        id:
          type: string
          format: uuid
          readOnly: true
        user:
          allOf:
          - $ref: '#/components/schemas/UserMinimal'
          readOnly: true
        coffeebean:
          allOf:
          - $ref: '#/components/schemas/CoffeeBeanMinimal'
          readOnly: true
        added_by:
          allOf:
          - $ref: '#/components/schemas/AddedByEnum'
          readOnly: true
        added_at:
          type: string
          format: date-time
          readOnly: true
        own_price_czk:
          type: string
          format: decimal
          pattern: ^-?\d{0,8}(?:\.\d{0,2})?$
          nullable: true
        is_archived:
          type: boolean
      required:
      - added_at
      - added_by
      - coffeebean
      - id
      - user
    UserLoginRequest:
      type: object
      description: Serializer for user login.
      properties:
        email:
          type: string
          format: email
          minLength: 1
        password:
          type: string
          writeOnly: true
          minLength: 1
      required:
      - email
      - password
    UserMinimal:
      type: object
      description: Minimal user info for nested serialization.
      properties:
        id:
          type: string
          format: uuid
          readOnly: true
        email:
          type: string
          format: email
          readOnly: true
        display_name:
          type: string
          readOnly: true
      required:
      - display_name
      - email
      - id
    UserRegistrationRequest:
      type: object
      description: Serializer for user registration.
      properties:
        email:
          type: string
          format: email
          minLength: 1
          maxLength: 255
        password:
          type: string
          writeOnly: true
          minLength: 1
        password_confirm:
          type: string
          writeOnly: true
          minLength: 1
        display_name:
          type: string
          maxLength: 100
      required:
      - email
      - password
      - password_confirm
    VerifyEmailRequestRequest:
      type: object
      properties:
        token:
          type: string
          minLength: 1
          description: Email verification token
      required:
      - token
  securitySchemes:
    cookieAuth:
      type: apiKey
      in: cookie
      name: sessionid
    jwtAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
